<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dear Maydul Birthday</title>

<!-- html2canvas CDN -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
  /* ====== ‡¶Æ‡ßÇ‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ - ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶ì ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶Æ‡¶ø‡¶≤‡ßá ====== */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  body {
    overflow-x: hidden;
    background-color: #ffe6f2;
    color: #333;
    text-align: center;
  }
  .page {
    width: 100vw; height: 100vh;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    padding: 20px;
    position: relative;
    overflow: hidden;
    text-align: center;
    opacity: 1;
    transition: opacity 0.5s ease;
  }
  .page.hide {
    opacity: 0;
    pointer-events: none;
  }
  .bg-image {
    position: absolute; width: 100%; height: 100%;
    object-fit: cover; z-index: -1;
    opacity: 0.1;
  }
  .content {
    background-color: rgba(255, 255, 255, 0.95);
    padding: 30px;
    border-radius: 20px;
    max-width: 600px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    animation: fadeIn 1.5s ease;
    border: 1px solid rgba(255,192,203,0.5);
    position: relative;
    z-index: 5;
  }
  h1 {
    color: #d81b60;
    margin-bottom: 20px;
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  }
  p {
    color: #333;
    line-height: 1.6;
    margin-bottom: 25px;
    font-size: clamp(1rem, 3vw, 1.2rem);
    text-shadow: 0 1px 2px rgba(255,255,255,0.8);
  }
  .btn {
    padding: 15px 30px;
    background: linear-gradient(45deg, #ff4081, #ff6b6b);
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(255, 64, 129, 0.4);
    margin-top: 15px;
    animation: pulse 2s infinite;
    font-weight: bold;
    user-select: none;
  }
  .btn:hover,
  .btn:focus {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(255, 64, 129, 0.6);
    outline: none;
  }
  .btn:focus {
    outline: 3px solid #ff4081;
    outline-offset: 3px;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
  .confetti {
    position: absolute;
    width: 8px;
    height: 8px;
    background-color: red;
    opacity: 0;
    z-index: 4;
    border-radius: 2px;
    animation-fill-mode: forwards;
  }
  #page1 {
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
  }
  #page2 {
    background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
    display: flex;
    flex-direction: column;
  }
  #page3 {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    display: flex;
    flex-direction: column;
  }
  .options {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 20px;
  }
  .yes-btn {
    background: linear-gradient(45deg, #4CAF50, #8BC34A);
  }
  .no-btn {
    background: linear-gradient(45deg, #f44336, #ff5252);
  }
  #musicToggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 20;
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 28px;
    color: #d81b60;
    user-select: none;
    transition: color 0.3s ease;
  }
  #musicToggle:hover {
    color: #ff6b6b;
  }
  .heart {
    position: fixed;
    right: 30px;
    width: 25px;
    height: 25px;
    font-size: 25px;
    color: #ff4081;
    user-select: none;
    pointer-events: none;
    border-radius: 12px;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    animation-name: roundedSquareMove;
  }
  @keyframes roundedSquareMove {
    0% {
      transform: translate(0, 0) rotate(0deg);
    }
    20% {
      transform: translate(-30px, 0) rotate(90deg);
    }
    40% {
      transform: translate(-40px, 10px) rotate(135deg);
    }
    50% {
      transform: translate(-40px, 30px) rotate(180deg);
    }
    70% {
      transform: translate(-30px, 40px) rotate(270deg);
    }
    90% {
      transform: translate(0, 40px) rotate(315deg);
    }
    100% {
      transform: translate(0, 0) rotate(360deg);
    }
  }

:root {
    --gold: #D4AF37;
    --deep-red: #8B0000;
    --cream: #F5F5DC;
    --dark: #222222;
}

body {
    margin: 0;
    padding: 0;
    font-family: 'Montserrat', sans-serif;
    background-color: var(--dark);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
    color: var(--cream);
}

.card-container {
    perspective: 1500px;
    width: 400px;
    height: 600px;
}

.card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1s;
    cursor: pointer;
}

.card:hover {
    transform: rotateY(15deg);
}

.card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
}

.card-front {
    background: linear-gradient(135deg, var(--deep-red) 0%, #700000 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 40px 30px;
    box-sizing: border-box;
    text-align: center;
    color: var(--cream);
    font-weight: 600;
    position: relative;
}

.card-back {
    background: var(--cream);
    transform: rotateY(180deg);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: var(--deep-red);
    padding: 40px 30px;
    box-sizing: border-box;
    font-weight: 600;
    position: relative;
}

.gold-border {
    border: 2px solid var(--gold);
    border-radius: 15px;
    padding: 30px;
    height: calc(100% - 60px);
    width: calc(100% - 60px);
    position: relative;
    box-sizing: border-box;
    background: rgba(0,0,0,0.15);
    color: var(--cream);
}

.envelope-flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--deep-red) 0%, #500000 100%);
    transform-origin: top;
    transform: rotateX(0deg);
    transition: transform 0.8s ease-in-out;
    z-index: 10;
    border-radius: 20px 20px 0 0;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    padding-bottom: 30px;
    box-sizing: border-box;
    color: var(--gold);
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.card:hover .envelope-flap {
    transform: rotateX(180deg);
}

h1.card-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.7rem;
    color: var(--gold);
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.4);
    margin-bottom: 20px;
}

p.card-text {
    font-size: 1.1rem;
    line-height: 1.7;
    color: var(--cream);
    margin-bottom: 25px;
    font-weight: 400;
}

.signature {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    margin-top: 30px;
    color: var(--gold);
    font-size: 1.2rem;
}

/* Buttons */

.btn, .btn-download {
    margin-top: 15px;
    padding: 14px 32px;
    font-size: 1.1rem;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    letter-spacing: 1.2px;
    display: inline-block;
    background: var(--gold);
    color: var(--deep-red);
    border: 2px solid var(--gold);
    font-weight: 700;
    user-select: none;
}

/* ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶Æ‡¶æ‡¶ù‡ßá ‡¶∏‡ßç‡¶™‡ßá‡¶∏ */
.btn + .btn, .btn-download + .btn-download, .btn + .btn-download, .btn-download + .btn {
    margin-left: 15px;
}

.btn:hover, .btn-download:hover {
    background: #b38f23;
    color: #500000;
}

/* Confetti */

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: var(--gold);
    opacity: 0;
}

/* Floating Animation */
.floating {
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

/* Shine Effect */
.shine {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        135deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.3) 50%,
        rgba(255,255,255,0) 100%
    );
    animation: shine 3s infinite;
    opacity: 0;
}

@keyframes shine {
    0% { opacity: 0; left: -100%; }
    20% { opacity: 0.5; }
    100% { opacity: 0; left: 100%; }
}

/* ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶®‡¶´‡ßá‡¶ü‡¶ø ‡¶™‡¶§‡¶®‡ßá‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
@keyframes fall {
  0% {
    transform: translateY(-100px) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(600px) rotate(360deg);
    opacity: 0;
  }
}
</style>
</head>
<body>

<!-- Music toggle & audio -->
<button id="musicToggle" title="Toggle Background Music">üîà</button>
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/04/20/audio_974a46d55c.mp3?filename=happy-birthday-90992.mp3" type="audio/mpeg" />
</audio>

<!-- Page 1 -->
<div class="page" id="page1">
  <img src="https://i.imgur.com/3ZQ9X9j.jpg" class="bg-image" alt="‡¶´‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°" />
  <div class="content">
    <h1>Welcome Maydul ! üíñ</h1>
    <p>‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶è‡¶á ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶¶‡¶ø‡¶®‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶á ‡¶õ‡ßã‡¶ü‡ßç‡¶ü ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨ ‡¶ú‡¶ó‡¶§‡ßá...ü§ó</p>
    <button class="btn" id="nextBtn1">‡¶™‡¶∞‡ßá‡¶∞ ‡¶™‡ßá‡¶ú‡ßá ‡¶Ø‡¶æ‡¶ì</button>
  </div>
</div>

<!-- Page 2 -->
<div class="page" id="page2" style="display:none;">
  <img src="https://i.imgur.com/5qY9b7J.jpg" class="bg-image" alt="‡¶ï‡ßá‡¶ï‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°" />
  <div class="content">
    <h1>‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º Maydul! üéÄ</h1>
    <p>‡¶Ü‡¶ú‡¶ï‡ßá ‡¶Ø‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶¶‡¶ø‡¶®, ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø ‡¶ú‡¶æ‡¶®‡ßã ‡¶Ü‡¶ú‡¶ï‡ßá ‡¶¶‡¶ø‡¶®‡¶ü‡¶æ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ï‡¶ø ‡¶ú‡¶®‡ßç‡¶Ø ‚ò∫? ‡¶Ø‡¶¶‡¶ø ‡¶ú‡¶æ‡¶®‡ßã, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶Æ‡¶®‡ßá ‡¶ï‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶á üòä</p>
    <p style="font-style: italic; color: #d81b60;">
      ‡¶è‡¶á ‡¶¶‡¶ø‡¶®‡¶ü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶®‡ßá‡¶ï‡¶¶‡¶ø‡¶® ‡¶ß‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶õ‡¶ø‡¶≤ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ú‡¶® ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑...ü§óü§©ü•∞
    </p>
    <button class="btn" id="nextBtn2">‡¶™‡¶∞‡ßá‡¶∞ ‡¶™‡ßá‡¶ú‡ßá ‡¶Ø‡¶æ‡¶ì</button>
  </div>
</div>

<!-- Page 3 -->
<div class="page" id="page3" style="display:none;">
  <img src="https://i.imgur.com/7QXZ3Lk.jpg" class="bg-image" alt="‡¶ï‡¶®‡¶´‡ßá‡¶ü‡¶ø‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°" />
  <div class="content" style="position: relative;">
    <h1>‡¶∂‡ßÅ‡¶≠ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®! üéÇ</h1>
    <p>‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶á ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡¶Æ‡¶Ø‡¶º ‡¶¶‡¶ø‡¶®‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡ßü ‡¶è‡¶ï‡¶ú‡¶® ‡¶∂‡ßÅ‡¶≠‡¶æ‡¶ï‡¶æ‡¶ô‡ßç‡¶ñ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶Ø‡¶º...üòé</p>
    <p style="font-weight: bold; margin: 20px 0;">‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶ø ‡¶∂‡ßÅ‡¶®‡¶§‡ßá ‡¶á‡¶ö‡ßç‡¶õ‡ßÅ‡¶ï üòú?</p>
    <div class="options">
      <button class="btn yes-btn" id="yesBtn">‡¶π‡ßç‡¶Ø‡¶æ‡¶Å üòÅ</button> 
      <button class="btn no-btn" id="noBtn">‡¶®‡¶æ üòí</button>
    </div>
  </div>
</div>

<!-- Page 4 (Birthday message with Show Card button) -->
<div class="page" id="page4" style="display:none; background: #fff; color: #222;">
  <div class="content" style="max-width:none; max-width: 700px; margin: auto; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); background: #fff; padding: 30px;">
    <h1 style="color:#d81b60;">‡¶∂‡ßÅ‡¶≠ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶® üíå</h1>
    <p style="text-align: left; font-size: 1.1rem; line-height: 1.6;">
      ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º maydul,<br><br>
      ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶Ö‡¶®‡ßá‡¶ï ‡¶Ö‡¶®‡ßá‡¶ï ‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ! ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶á ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶¶‡¶ø‡¶®‡ßá ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∏‡ßÅ‡¶∏‡ßç‡¶•, ‡¶∏‡ßÅ‡¶ñ‡ßÄ ‡¶ì ‡¶∏‡¶Æ‡ßÉ‡¶¶‡ßç‡¶ß ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§ 
      ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶Ø‡ßá‡¶® ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶∂‡¶æ ‡¶Ü‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡¶Ø‡¶º ‡¶≠‡¶∞‡ßá ‡¶â‡¶†‡ßá‡•§ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶® ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶π‡ßã‡¶ï 
      ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶™‡¶¶‡¶ï‡ßç‡¶∑‡ßá‡¶™‡ßá ‡¶∏‡¶æ‡¶´‡¶≤‡ßç‡¶Ø ‡¶Ø‡ßá‡¶® ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ ‡¶π‡¶Ø‡¶º‡•§<br><br>
      ‡¶Ö‡¶®‡ßá‡¶ï ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ ‡¶∞‡¶á‡¶≤‡ßã... ‚ù§Ô∏è<br><br>
      <span style="font-weight:bold;">- Your senior</span>
    </p>
    <button class="btn" id="showCardBtn" style="background: linear-gradient(45deg, #2196F3, #03A9F4); margin-top: 20px;">Show Your Birthday Card</button>
    <button class="btn" id="restartBtn" style="background: linear-gradient(45deg, #FF9800, #FFC107); margin-top: 15px;">‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  </div>
</div>

<!-- Page 5: Birthday Card with download -->
<div id="birthdayCardPage" class="page" style="display:none; background: var(--dark); color: var(--cream);">

  <div class="card-container">
    <div class="card" id="birthdayCard">
      <div class="envelope-flap">Happy Birthday</div>
      <div class="card-front gold-border">
        <h1 class="card-title">‡¶∂‡ßÅ‡¶≠ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶® Maydul! üéâ</h1>
        <p class="card-text">
          ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶è‡¶á ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶¶‡¶ø‡¶®‡ßá<br />
          ‡¶ú‡¶æ‡¶®‡¶æ‡¶≤‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ù‡¶∞‡¶õ‡ßá ‡¶∞‡¶ô‡¶ø‡¶® ‡¶Ü‡¶≤‡ßã
          ‡¶∏‡¶æ‡¶∞‡¶æ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶•‡ßá‡¶ï‡ßã ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶≠‡¶æ‡¶≤‡ßã‡•§..ü•∞<br></br>
          ‡¶∂‡ßÅ‡¶≠ ‡¶ï‡¶æ‡¶Æ‡¶®‡¶æ ‡¶ì ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ! üíñ
        </p>
        <button class="btn" id="celebrateBtn">Celebrate</button>
      </div>
      <div class="card-back gold-border">
        <p style="font-size:1.2rem; font-weight:bold; margin-bottom: 30px;">
          Have a wonderful day filled with joy and laughter!
        </p>
        <p class="signature">- ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶è‡¶ï‡¶ú‡¶® ‡¶∏‡ßÅ‡¶≠‡¶æ‡¶ï‡¶æ‡¶ô‡ßç‡¶ñ‡¶ø Shajjad</p>
      </div>
    </div>
  </div>
  <button class="btn btn-download" id="downloadCardBtn" style="margin-top: 30px;">Download Your Card</button>
  <button class="btn" id="backToMsgBtn" style="margin-top: 10px;">Back to Message</button>
</div>

<script>
  // Page handling
  const pages = ['page1', 'page2', 'page3', 'page4', 'birthdayCardPage'];
  let currentPageIndex = 0;

  function showPage(index) {
    pages.forEach((pageId, i) => {
      const el = document.getElementById(pageId);
      if(i === index){
        el.style.display = 'flex';
      } else {
        el.style.display = 'none';
      }
    });
    currentPageIndex = index;
  }

  // Next buttons on pages 1 and 2
  document.getElementById('nextBtn1').addEventListener('click', () => showPage(1));
  document.getElementById('nextBtn2').addEventListener('click', () => showPage(2));

  // Yes/No buttons on page 3
  document.getElementById('yesBtn').addEventListener('click', () => showPage(3));
  document.getElementById('noBtn').addEventListener('click', () => {
    alert('‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ ‡¶®‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø üòâ');
  });

  // Restart button on page 4
  document.getElementById('restartBtn').addEventListener('click', () => showPage(0));

  // Show card button
  document.getElementById('showCardBtn').addEventListener('click', () => {
    showPage(4);
  });

  // Back to message button on card page
  document.getElementById('backToMsgBtn').addEventListener('click', () => {
    showPage(3);
  });

  // Card flipping & confetti
  document.addEventListener('DOMContentLoaded', () => {
    const card = document.querySelector('.card');
    const celebrateBtn = document.getElementById('celebrateBtn');
    const cardFront = document.querySelector('.card-front');

    celebrateBtn.addEventListener('click', () => {
      createConfetti();
      card.style.transform = 'rotateY(180deg)';
      celebrateBtn.textContent = 'Cheers!';
      celebrateBtn.style.backgroundColor = 'var(--gold)';
      celebrateBtn.style.color = 'var(--deep-red)';
      setTimeout(() => {
        celebrateBtn.textContent = 'Celebrate';
        celebrateBtn.style.backgroundColor = 'var(--gold)';
        celebrateBtn.style.color = 'var(--deep-red)';
        card.style.transform = 'rotateY(0deg)';
      }, 2000);
    });

    function createConfetti() {
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';

        const colors = ['#D4AF37', '#FFD700', '#FFFFFF', '#8B0000'];
        const color = colors[Math.floor(Math.random() * colors.length)];
        const size = Math.random() * 10 + 5;
        confetti.style.width = `${size}px`;
        confetti.style.height = `${size}px`;
        confetti.style.backgroundColor = color;
        confetti.style.position = 'absolute';
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = '-10px';
        confetti.style.opacity = '1';

        const shapes = ['square', 'circle', 'triangle'];
        const shape = shapes[Math.floor(Math.random() * shapes.length)];

        if (shape === 'circle') {
          confetti.style.borderRadius = '50%';
        } else if (shape === 'triangle') {
          confetti.style.width = '0';
          confetti.style.height = '0';
          confetti.style.backgroundColor = 'transparent';
          confetti.style.borderLeft = `${size / 2}px solid transparent`;
          confetti.style.borderRight = `${size / 2}px solid transparent`;
          confetti.style.borderBottom = `${size}px solid ${color}`;
        }

        cardFront.appendChild(confetti);

        const animationDuration = Math.random() * 3 + 2;
        confetti.style.animation = `fall ${animationDuration}s linear forwards`;

        setTimeout(() => {
          confetti.remove();
        }, animationDuration * 1000);
      }
    }

    // Download button
    document.getElementById('downloadCardBtn').addEventListener('click', () => {
      const cardElement = document.getElementById('birthdayCard');
      html2canvas(cardElement).then(canvas => {
        const link = document.createElement('a');
        link.download = 'birthday_card.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      });
    });
  });

  // Background music toggle
  const musicToggle = document.getElementById('musicToggle');
  const bgMusic = document.getElementById('bgMusic');
  let musicPlaying = false;

  musicToggle.addEventListener('click', () => {
    if (!musicPlaying) {
      bgMusic.play();
      musicToggle.textContent = 'üîä';
      musicPlaying = true;
    } else {
      bgMusic.pause();
      musicToggle.textContent = 'üîà';
      musicPlaying = false;
    }
  });
</script>
</body>
</html>
